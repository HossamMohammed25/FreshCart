import './polyfills.server.mjs';
import{a as E}from"./chunk-Q5LX2P4G.mjs";import{a as P}from"./chunk-GBHRAEDD.mjs";import{l as T}from"./chunk-SX4IOAQB.mjs";import"./chunk-EC73D4GI.mjs";import{Db as a,Eb as f,Ka as b,Kb as W,Oa as c,Qb as D,Sb as L,W as h,_ as w,db as v,fb as C,ia as u,ja as p,jb as x,lb as S,mb as g,nb as l,ob as o,pb as m,sb as y,ub as _,vb as d,yc as k}from"./chunk-ZWGHKFBJ.mjs";import"./chunk-VVCT4QZE.mjs";var I=(e,i)=>i.id;function F(e,i){if(e&1){let s=y();l(0,"div",2)(1,"div",3),m(2,"img",4),o(),l(3,"div",5)(4,"div")(5,"h5",6),a(6),o(),l(7,"p",7),a(8),D(9,"currency"),o(),l(10,"span",8),_("click",function(){let t=u(s).$implicit,r=d(2);return p(r.deleteProduct(t.id))}),m(11,"i",9),a(12," Remove "),o()(),l(13,"div",10)(14,"button",11),_("click",function(){let t=u(s).$implicit,r=d(2);return p(r.addCart(t.id))}),a(15,"Add To Cart"),o()()()()}if(e&2){let s=i.$implicit;c(2),C("src",s.imageCover,b)("alt",s.title),c(4),f(s.title),c(2),f(L(9,4,s.price,"GBP"))}}function V(e,i){if(e&1&&(l(0,"section",0)(1,"h2",1),a(2,"My wish List"),o(),S(3,F,16,7,"div",2,I),o()),e&2){let s=d();c(3),g(s.wishListDetails==null?null:s.wishListDetails.data)}}function $(e,i){e&1&&(l(0,"section")(1,"div",12),m(2,"img",13),l(3,"a",14),a(4,"Go To Shop "),m(5,"i",15),o()()())}var z=(()=>{let i=class i{constructor(){this._WishlistService=h(E),this._CartService=h(P),this.wishListDetails={}}ngOnInit(){this.wish()}wish(){this.wishlistSub=this._WishlistService.getUserWishlist().subscribe({next:n=>{this.wishListDetails=n}})}deleteProduct(n){this.removeProductSub=this._WishlistService.removeProductWishlist(n).subscribe({next:t=>{localStorage.setItem("heart",t.data),this.wish()}})}addCart(n){this.addCartSub=this._CartService.addProductToCart(n).subscribe({next:t=>{this.wishListDetails=t,this._CartService.cartNumber.set(t.numOfCartItems),this._WishlistService.removeProductWishlist(n).subscribe({next:r=>{localStorage.setItem("heart",r.data),this.wish()}})}})}ngOnDestroy(){this.removeProductSub?.unsubscribe(),this.addCartSub?.unsubscribe(),this.wishlistSub?.unsubscribe()}};i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=w({type:i,selectors:[["app-wishlist"]],standalone:!0,features:[W],decls:2,vars:1,consts:[[1,"bg-main-light","my-3","rounded-3","shadow","p-5"],[1,"fw-semibold","text-main"],[1,"row","my-3","border-bottom","py-2"],[1,"col-md-2"],[1,"w-100",3,"src","alt"],[1,"col-md-10","d-flex","align-items-center","justify-content-between"],[1,"fw-semibold"],[1,"text-main","my-1"],[1,"cr","text-danger",3,"click"],[1,"fa-solid","fa-trash-can"],[1,"d-flex","align-items-center","gap-2"],[1,"btn","btn-outline-success",3,"click"],[1,"d-flex","align-items-end","justify-content-around","gap-3","my-3"],["src","./assets/images/empty_wishlist.png","alt","empty wishlist",1,"w-25"],["routerLink","/home",1,"link-primary","cr"],[1,"fa-solid","fa-angles-right"]],template:function(t,r){t&1&&v(0,V,5,0,"section",0)(1,$,6,0),t&2&&x(0,!(r.wishListDetails==null||r.wishListDetails.data==null)&&r.wishListDetails.data.length?0:1)},dependencies:[k,T]});let e=i;return e})();export{z as WishlistComponent};
